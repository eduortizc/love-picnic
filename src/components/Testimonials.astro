---
// src/components/Testimonials.astro
const sandImage = '/images/arena.webp';

const REVIEWS = [
  { name: "Cesar T.", text: "Muchas gracias la verdad estuvo muy bonito, se los agradezco.", stars: 5 },
  { name: "Alejandro Q.", text: "Muchas gracias por todo, fue lo mejor.", stars: 5 },
  { name: "Ricardo A.", text: "Muchas gracias, todo estuvo súper, nos encantó y salió perfecto.", stars: 5 },
  { name: "Alejandrina D.", text: "Excelente calidad, muy contenta con el servicio que me dieron, gracias.", stars: 5 },
  { name: "Danna S.", text: "El atardecer en la playa con el teepee fue mágico, 100% recomendados.", stars: 5 },
  { name: "Gaby S.", text: "Mi novio no se lo esperaba, gracias por todo!", stars: 5 },
  { name: "Eduardo O.", text: "Excelente servicio y puntualidad, todo estaba listo cuando llegamos.", stars: 5 },
  { name: "Mario I.", text: "Pedirle matrimonio a mi esposa a la orilla del mar, fue la mejor decisión que pude haber tomado, gracias!.", stars: 5 },
  { name: "Andrea C.", text: "Las fotos quedaron divinas, muchas gracias.", stars: 5 }
];

const INFINITE_REVIEWS = [...REVIEWS, ...REVIEWS];
---

<section class="py-24 pt-10 px-0 relative bg-[#0F1F38] overflow-hidden">
    
    <div class="absolute inset-0 -z-50 h-full w-full">
        <div 
            class="absolute inset-0 bg-repeat filter blur-[3px] opacity-20 mix-blend-overlay"
            style={`background-image: url('${sandImage}'); background-size: 500px;`}
        ></div>
    </div>

    <div class="relative z-10">
        
        <div class="text-center mb-10 md:mb-16 px-6">
            <span class="text-picnic-gold uppercase tracking-[0.3em] text-xs font-bold">Experiencias Reales</span>
            <h2 class="text-3xl md:text-5xl font-serif text-white mt-3 mb-6">Testimonios</h2>
            <div class="flex justify-center gap-2 text-picnic-gold text-xl mb-4">★★★★★</div>
            <div class="w-20 h-[1px] bg-picnic-gold mx-auto opacity-50"></div>
        </div>

        <div class="scroller-container w-full overflow-hidden [mask-image:_linear-gradient(to_right,transparent_0,_white_10%,_white_90%,transparent_100%)]">
            
            <div class="scroller-inner flex gap-4 md:gap-6 px-0 w-max animate-scroll pb-10 pt-4">
                
                {INFINITE_REVIEWS.map((review) => (
                    // TARJETA
                    // Mobile: w-[280px] (Cuadros chicos)
                    // Desktop: w-[400px] (Normal)
                    <div class="w-[280px] md:w-[400px] bg-white/5 backdrop-blur-md border border-white/10 p-6 md:p-8 rounded-2xl relative group hover:bg-[#0B1829] hover:border-picnic-gold/50 transition-all duration-300 flex-shrink-0 md:hover:-translate-y-4 md:hover:shadow-2xl md:hover:shadow-picnic-gold/10 md:hover:z-20 cursor-default">
                        
                        <div class="absolute top-4 right-6 text-5xl md:text-6xl text-picnic-gold/10 font-serif leading-none select-none group-hover:text-picnic-gold/30 transition-colors">
                            “
                        </div>

                        <div class="flex gap-1 text-picnic-gold mb-4 md:mb-6">
                            {[...Array(review.stars)].map(() => (
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4 md:w-5 md:h-5 drop-shadow-sm">
                                    <path fill-rule="evenodd" d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z" clip-rule="evenodd" />
                                </svg>
                            ))}
                        </div>

                        <p class="text-gray-200 font-light italic leading-relaxed mb-6 text-sm md:text-lg h-20 md:h-24 overflow-hidden group-hover:text-white transition-colors">
                            "{review.text}"
                        </p>

                        <div class="flex items-center gap-4">
                            <div class="w-8 h-[1px] bg-picnic-gold group-hover:w-16 transition-all duration-500"></div>
                            <span class="text-white font-serif tracking-wider uppercase text-xs md:text-sm group-hover:text-picnic-gold transition-colors">
                                {review.name}
                            </span>
                        </div>

                    </div>
                ))}

            </div>
        </div>
    </div>
</section>

<style>
    /* Animación global (Móvil y Desktop) */
    @keyframes scroll {
        to {
            transform: translate(calc(-50% - 1rem)); /* Ajuste fino para el gap */
        }
    }

    .animate-scroll {
        animation: scroll 60s linear infinite;
    }
</style>